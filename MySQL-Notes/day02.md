# day02

### SQL语言的学习大纲

![image-20210108145711728](day02.assets/image-20210108145711728.png)

## 1.myemployees的四张表的介绍

![image-20210108150242859](day02.assets/image-20210108150242859.png)

![image-20210108150734039](day02.assets/image-20210108150734039.png)

![image-20210108220951201](day02.assets/image-20210108220951201.png)

![image-20210108221011225](day02.assets/image-20210108221011225.png)

## 2.基础查询介绍

### 2.1进阶一：基础查询

#### 2.1.1语法

select 查询列表 from 表名;



类似于：System.out.println();



特点：

1、查询列表可以是：表中的字段、常量值、表达式、函数；

2、查询的结果是一个虚拟的表格



#### 2.1.2查询表中的单个字段

select last_name from employees;

#### 2.1.3查询表中的多个字段

select las_name,salary,email from employees;

#### 2.1.4查询表中的所有字段

方式一：

selcect 

​			employee_id,

​			first_name,

​			... 

from 

​			employees;



方式二：

select * from employees;

#### 注意事项

使用 use 库名 的方式指定操作的数据库

#### 2.1.5查询常量、表达式、函数

！！ 查询常量值

select 100;

select 'john';

！！查询表达式

select 100*98;

！！查询函数

select version();

！！起别名

①便于理解

②如果要查询的字段有重名的情况，使用别名可以区分开来

% 方式一：

select 100%98 as 结果;(对字段起别名：结果)

select last_name as 姓, first_name as 名 from employees;

% 方式二：

select last_name 姓, first_name 名 from employees;

#案例：查询salary，显示结果为out put

select salary as "out put" from employees;（使用双引号或单引号将含有特殊符号的引起来）

#### 2.1.6去重

#案例：查询员工表中涉及到的所有部门编号

select department_id from employees;==>存在重复的值

改为：

select distinct department_id from employees;==>不存在重复的值

#### +号的作用

%Java中的+号：

①运算符，两个操作数都为数值型

②连接符，只要有一个操作数为字符串



%mysql中的+号：

仅仅只有一个功能：运算符

select 100+90; 两个操作数都为数值型，则做加法运算

select '123'+90;有一方为字符型，试图将字符型数值转换成数值型，

​								如果转换成功，则继续做加法运算

​								如果转换失败，则将字符型数值转换成0

select 'john'+90;

select null+10; 只要其中一方为null，则结果肯定为null



#案例：查询员工名和姓连接成一个字段，并显示为 姓名

select last_name+first_name as 姓名 from employees;==>不能达到预期效果，原因见上面的分析

应该用concat:

select concat('a','b','c') as 结果;

select concat(last_name,first_name) as 姓名;



#### 案例讲解

![image-20210108224602872](day02.assets/image-20210108224602872.png)

![image-20210108224620324](day02.assets/image-20210108224620324.png)

![image-20210108224726828](day02.assets/image-20210108224726828.png)

第六题中由于commission_pct存在null而导致查询出来的都会为null，所以需要条件判断：基本思路是如果为null就置0否则保持原始值。

![image-20210108224909169](day02.assets/image-20210108224909169.png)

### 2.2进阶二：条件查询

#### 语法

![image-20210108230001507](day02.assets/image-20210108230001507.png)

#### 分类

![image-20210108230809550](day02.assets/image-20210108230809550.png)

#### 按条件表达式筛选

![image-20210108230445563](day02.assets/image-20210108230445563.png)

![image-20210108230635447](day02.assets/image-20210108230635447.png)

#### 按逻辑表达式筛选

![image-20210108231034270](day02.assets/image-20210108231034270.png)

或

![image-20210108231055341](day02.assets/image-20210108231055341.png)

#### 模糊查询

![image-20210108231135917](day02.assets/image-20210108231135917.png)





##### like

![image-20210108232234397](day02.assets/image-20210108232234397.png)

![image-20210108231330268](day02.assets/image-20210108231330268.png)

![image-20210108231553187](day02.assets/image-20210108231553187.png)

![image-20210108231714333](day02.assets/image-20210108231714333.png)

使用escape关键字指定转义字符：

![image-20210108231802054](day02.assets/image-20210108231802054.png)

##### between and

![image-20210108232300116](day02.assets/image-20210108232300116.png)

![image-20210108232013852](day02.assets/image-20210108232013852.png)

##### in

![image-20210108232459358](day02.assets/image-20210108232459358.png)

![image-20210108232532738](day02.assets/image-20210108232532738.png)

![image-20210108232820173](day02.assets/image-20210108232820173.png)

##### is null

![image-20210109152422074](day02.assets/image-20210109152422074.png)

这种写法不行，因为=号不能判断null，需要用is判断：

![image-20210109152502444](day02.assets/image-20210109152502444.png)

![image-20210109152542501](day02.assets/image-20210109152542501.png)

![image-20210109152630174](day02.assets/image-20210109152630174.png)

![image-20210109152610317](day02.assets/image-20210109152610317.png)



##### 安全等于

![image-20210109152658622](day02.assets/image-20210109152658622.png)

![image-20210109152720541](day02.assets/image-20210109152720541.png)

![image-20210109152802589](day02.assets/image-20210109152802589.png)

**is null vs. <=>**

![image-20210109152905605](day02.assets/image-20210109152905605.png)

#### 条件查询案例讲解

![image-20210109153344757](day02.assets/image-20210109153344757.png)

![image-20210109153326406](day02.assets/image-20210109153326406.png)

#### 测试题

![image-20210109155314445](day02.assets/image-20210109155314445.png)

**答案**

![image-20210109155514766](day02.assets/image-20210109155514766.png)

![image-20210109155720437](day02.assets/image-20210109155720437.png)

如果换成OR，结果就一样！

![image-20210109155813437](day02.assets/image-20210109155813437.png)

### 进阶三：排序查询

#### 引入

![image-20210109160238927](day02.assets/image-20210109160238927.png)

通过这种方式查询的表格不具备排序的功能

#### 语法

![image-20210109160309422](day02.assets/image-20210109160309422.png)

#### 特点

![image-20210109161501037](day02.assets/image-20210109161501037.png)

#### 案例

![image-20210109160420558](day02.assets/image-20210109160420558.png)

![image-20210109160611233](day02.assets/image-20210109160611233.png)

![image-20210109160747215](day02.assets/image-20210109160747215.png)

改进一下，由于表达式太长了，按照别名进行排序：

![image-20210109160823975](day02.assets/image-20210109160823975.png)

![image-20210109161034487](day02.assets/image-20210109161034487.png)

![image-20210109161323957](day02.assets/image-20210109161323957.png)

#### 测试题

![image-20210109161628287](day02.assets/image-20210109161628287.png)

答案：

![image-20210109161849687](day02.assets/image-20210109161849687.png)

### 进阶四：常见函数

#### 概念和好处

![image-20210109162322831](day02.assets/image-20210109162322831.png)

#### 调用

![image-20210109162446704](day02.assets/image-20210109162446704.png)

#### 特点

![image-20210109162458951](day02.assets/image-20210109162458951.png)

#### 分类

![image-20210109162604990](day02.assets/image-20210109162604990.png)

#### 学习目标

![image-20210109162644150](day02.assets/image-20210109162644150.png)

#### 字符函数

![image-20210109162908452](day02.assets/image-20210109162908452.png)

![image-20210109162958263](day02.assets/image-20210109162958263.png)

![image-20210109163117686](day02.assets/image-20210109163117686.png)

![image-20210109163538624](day02.assets/image-20210109163538624.png)

![image-20210109163743151](day02.assets/image-20210109163743151.png)

![image-20210109164006159](day02.assets/image-20210109164006159.png)

![image-20210109164155766](day02.assets/image-20210109164155766.png)

![image-20210109164238080](day02.assets/image-20210109164238080.png)

#### 数学函数

![image-20210109165541560](day02.assets/image-20210109165541560.png)

![image-20210109165637465](day02.assets/image-20210109165637465.png)

![image-20210109165713382](day02.assets/image-20210109165713382.png)

![image-20210109165740152](day02.assets/image-20210109165740152.png)

![image-20210109170023752](day02.assets/image-20210109170023752.png)

#### 日期函数

![image-20210109170140319](day02.assets/image-20210109170140319.png)

![image-20210109170314401](day02.assets/image-20210109170314401.png)

![image-20210109170804817](day02.assets/image-20210109170804817.png)

![image-20210109171054626](day02.assets/image-20210109171054626.png)

#### 其他函数

![image-20210109171605316](day02.assets/image-20210109171605316.png)

#### 流程控制函数

![image-20210109171803639](day02.assets/image-20210109171803639.png)

![image-20210109172125416](day02.assets/image-20210109172125416.png)

![image-20210109172142520](day02.assets/image-20210109172142520.png)

![image-20210109190003013](day02.assets/image-20210109190003013.png)

![image-20210109190118261](day02.assets/image-20210109190118261.png)

![image-20210109190208204](day02.assets/image-20210109190208204.png)

![image-20210109190349516](day02.assets/image-20210109190349516.png)

![image-20210109190550722](day02.assets/image-20210109190550722.png)

#### **总结**

![image-20210109190653810](day02.assets/image-20210109190653810.png)

![image-20210109190705387](day02.assets/image-20210109190705387.png)

![image-20210109190734966](day02.assets/image-20210109190734966.png)

![image-20210109190800034](day02.assets/image-20210109190800034.png)

#### 测试题

![image-20210109191039721](day02.assets/image-20210109191039721.png)

![image-20210109191203502](day02.assets/image-20210109191203502.png)

![image-20210109191302940](day02.assets/image-20210109191302940.png)

![image-20210109191450491](day02.assets/image-20210109191450491.png)

#### 分组函数

##### 功能

![image-20210109191610594](day02.assets/image-20210109191610594.png)

##### 分类

![image-20210109191637684](day02.assets/image-20210109191637684.png)

##### 简单使用

![image-20210109191820900](day02.assets/image-20210109191820900.png)

![image-20210109191921435](day02.assets/image-20210109191921435.png)

##### 特点

======================================================================

参数支持类型

**SUM**、**AVG**一般用于处理**数值型**。

如果使用字符类型：

![image-20210109192119273](day02.assets/image-20210109192119273.png)

输出结果将为：

![image-20210109192138474](day02.assets/image-20210109192138474.png)

不具实际意义！

**MAX**除了支持数值型，还支持字符型（因为可以排序！）

![image-20210109192413939](day02.assets/image-20210109192413939.png)

**COUNT**也都支持

![image-20210109192510245](day02.assets/image-20210109192510245.png)

========================================================================

用以下语句判断是否忽略null值：

![image-20210109192753379](day02.assets/image-20210109192753379.png)

上段语句的输出为：

![image-20210109192815620](day02.assets/image-20210109192815620.png)

由此判断，SUM和AVG是忽略null值的。



![image-20210109192951900](day02.assets/image-20210109192951900.png)

输出为：

![image-20210109193007639](day02.assets/image-20210109193007639.png)

所以也是忽略null值。

=========================================================================

和distinct搭配

![image-20210109193250740](day02.assets/image-20210109193250740.png)

输出为：

![image-20210109193515203](day02.assets/image-20210109193515203.png)



![image-20210109193509186](day02.assets/image-20210109193509186.png)

输出为：

![image-20210109193534212](day02.assets/image-20210109193534212.png)



=========================================================================

count函数的详细介绍

![image-20210110093241423](day02.assets/image-20210110093241423.png)

=========================================================================

效率：

MYISAM存储银旗下，COUNT(*)的效率高

INNODB存储效率下，COUNT(*)和COUNT(1)的效率差不多，比COUNT(字段)要高一些



=========================================================================

和分组函数一同查询的字段有限制

![image-20210110093656906](day02.assets/image-20210110093656906.png)

这段语句得出的结果为：

![image-20210110093731385](day02.assets/image-20210110093731385.png)

发现employee_id这一列没有什么意义。

**总结**

![image-20210110093431498](day02.assets/image-20210110093431498.png)

![image-20210110093636420](day02.assets/image-20210110093636420.png)

#### 测试

![image-20210110094137653](day02.assets/image-20210110094137653.png)

#### 进阶五：分组查询

##### 引入

![image-20210110094527436](day02.assets/image-20210110094527436.png)

![image-20210110094538153](day02.assets/image-20210110094538153.png)

上面这种方法只能求出所有员工工资的平均值。

##### 语法

![image-20210110094516474](day02.assets/image-20210110094516474.png)

##### 注意

![image-20210110094650379](day02.assets/image-20210110094650379.png)

##### 案例

![image-20210110094755515](day02.assets/image-20210110094755515.png)

![image-20210110094838489](day02.assets/image-20210110094838489.png)

![image-20210110095030345](day02.assets/image-20210110095030345.png)

![image-20210110095128778](day02.assets/image-20210110095128778.png)

=========================================================================

![image-20210110095330186](day02.assets/image-20210110095330186.png)

![image-20210110095428682](day02.assets/image-20210110095428682.png)

![image-20210110095726497](day02.assets/image-20210110095726497.png)

![image-20210110100001787](day02.assets/image-20210110100001787.png)

=========================================================================

![image-20210110100605124](day02.assets/image-20210110100605124.png)

=========================================================================

![image-20210110100813090](day02.assets/image-20210110100813090.png)

注意GROUP BY之后的字段顺序可以任意。

=========================================================================

![image-20210110101037378](day02.assets/image-20210110101037378.png)



##### 特点

![image-20210110101138162](day02.assets/image-20210110101138162.png)

![image-20210110101200875](day02.assets/image-20210110101200875.png)

![image-20210110101221379](day02.assets/image-20210110101221379.png)

![image-20210110101249828](day02.assets/image-20210110101249828.png)

##### 案例讲解

![image-20210110101345802](day02.assets/image-20210110101345802.png)

![image-20210110101411385](day02.assets/image-20210110101411385.png)

![image-20210110101513410](day02.assets/image-20210110101513410.png)

![image-20210110101548123](day02.assets/image-20210110101548123.png)

![image-20210110101610884](day02.assets/image-20210110101610884.png)

#### 进阶六：连接查询

##### 含义

![image-20210110102040419](day02.assets/image-20210110102040419.png)

##### 笛卡尔乘积现象

![image-20210110102008347](day02.assets/image-20210110102008347.png)

**发生原因：**

没有有效的连接条件

**解决办法：**

添加连接条件

![image-20210110102308244](day02.assets/image-20210110102308244.png)

以上语句为了区分id在id前添加了表名

##### 分类

![image-20210110104116972](day02.assets/image-20210110104116972.png)

![image-20210110104035210](day02.assets/image-20210110104035210.png)

=========================================================================

##### sql92标准

**等值连接**

![image-20210110104319490](day02.assets/image-20210110104319490.png)

![image-20210110104426579](day02.assets/image-20210110104426579.png)

为了防止冗余：

![image-20210110104719021](day02.assets/image-20210110104719021.png)

**下面这种用法会报错：**

![image-20210110104801368](day02.assets/image-20210110104801368.png)

所以，起了别名之后及只能用别名

![image-20210110104815109](day02.assets/image-20210110104815109.png)

![image-20210110104925002](day02.assets/image-20210110104925002.png)

可以调换顺序。

![image-20210110105050858](day02.assets/image-20210110105050858.png)

![image-20210110105150716](day02.assets/image-20210110105150716.png)

![image-20210110105413810](day02.assets/image-20210110105413810.png)

![image-20210110105714147](day02.assets/image-20210110105714147.png)

![image-20210110105953420](day02.assets/image-20210110105953420.png)

![image-20210110110258044](day02.assets/image-20210110110258044.png)

**总结：**

![image-20210110110410096](day02.assets/image-20210110110410096.png)

语法：

![image-20210110112558556](day02.assets/image-20210110112558556.png)

=========================================================================

**非等值连接**

![image-20210110110856835](day02.assets/image-20210110110856835.png)

语法：

![image-20210110112637859](day02.assets/image-20210110112637859.png)

=========================================================================

**自连接**

![image-20210110111325862](day02.assets/image-20210110111325862.png)

语法：

![image-20210110112706229](day02.assets/image-20210110112706229.png)

=========================================================================

##### 测试题

![image-20210110111723910](day02.assets/image-20210110111723910.png)

![image-20210110111745685](day02.assets/image-20210110111745685.png)

=========================================================================

##### 作业讲解

![image-20210110112748621](day02.assets/image-20210110112748621.png)

![image-20210110112907901](day02.assets/image-20210110112907901.png)

![image-20210110113005277](day02.assets/image-20210110113005277.png)

![image-20210110113051173](day02.assets/image-20210110113051173.png)

![image-20210110113214045](day02.assets/image-20210110113214045.png)

![image-20210110113547262](day02.assets/image-20210110113547262.png)

![image-20210110113720621](day02.assets/image-20210110113720621.png)

=========================================================================

##### sql99标准

![image-20210110124938109](day02.assets/image-20210110124938109.png)

=========================================================================

**内连接**

![image-20210110125032079](day02.assets/image-20210110125032079.png)

![image-20210110125223855](day02.assets/image-20210110125223855.png)

![image-20210110125301734](day02.assets/image-20210110125301734.png)

![image-20210110125607008](day02.assets/image-20210110125607008.png)

![image-20210110125840157](day02.assets/image-20210110125840157.png)

![image-20210110125853669](day02.assets/image-20210110125853669.png)

![image-20210110130447920](day02.assets/image-20210110130447920.png)

注意，三个表之间的顺序不能随意放置，前一个表必须与后一个表存在可连接关系，例如下面这段语句就不能执行，因为jobs和department之间不能连接。

![image-20210110130825153](day02.assets/image-20210110130825153.png)





**特点**

![image-20210110130417023](day02.assets/image-20210110130417023.png)

=========================================================================

**非等值连接**

![image-20210110131222741](day02.assets/image-20210110131222741.png)

=========================================================================

**自连接**

![image-20210110141446552](day02.assets/image-20210110141446552.png)

![image-20210110141502459](day02.assets/image-20210110141502459.png)

=========================================================================

**外连接**

![image-20210110143245970](day02.assets/image-20210110143245970.png)

![image-20210110142454112](day02.assets/image-20210110142454112.png)

![image-20210110142518592](day02.assets/image-20210110142518592.png)

![image-20210110142833392](day02.assets/image-20210110142833392.png)

![image-20210110142854394](day02.assets/image-20210110142854394.png)

=========================================================================

**全外连接**

![image-20210110143308512](day02.assets/image-20210110143308512.png)

由于mysql不支持这种语法，所以无法得到结果。

=========================================================================

**交叉连接**

![image-20210110143443473](day02.assets/image-20210110143443473.png)

=========================================================================

##### sql92 vs. sql99

![image-20210110143600418](day02.assets/image-20210110143600418.png)

##### 连接总结

![image-20210110143834010](day02.assets/image-20210110143834010.png)



![image-20210110143957454](day02.assets/image-20210110143957454.png)



=========================================================================

##### 案例讲解

![image-20210110144156403](day02.assets/image-20210110144156403.png)

![image-20210110144301763](day02.assets/image-20210110144301763.png)



=========================================================================

#### 进阶七：子查询

##### 含义

![image-20210110145315136](day02.assets/image-20210110145315136.png)

##### 分类

![image-20210110145722307](day02.assets/image-20210110145722307.png)

=========================================================================

![image-20210110151902779](day02.assets/image-20210110151902779.png)



##### 标量子查询

![image-20210110150808082](day02.assets/image-20210110150808082.png)

![image-20210110151040073](day02.assets/image-20210110151040073.png)

![image-20210110151156323](day02.assets/image-20210110151156323.png)

![image-20210110151345834](day02.assets/image-20210110151345834.png)







![image-20210110151701439](day02.assets/image-20210110151701439.png)

![image-20210110151740537](day02.assets/image-20210110151740537.png)



![image-20210110152033818](day02.assets/image-20210110152033818.png)



<img src="day02.assets/image-20210110152956885.png" alt="image-20210110152956885" style="zoom: 67%;" />

![image-20210110153427443](day02.assets/image-20210110153427443.png)

![image-20210110153440458](day02.assets/image-20210110153440458.png)

![image-20210110153841986](day02.assets/image-20210110153841986.png)

![image-20210110153722706](day02.assets/image-20210110153722706.png)

![image-20210110153752722](day02.assets/image-20210110153752722.png)



![image-20210110153932186](day02.assets/image-20210110153932186.png)

![image-20210110153948715](day02.assets/image-20210110153948715.png)





![image-20210110154255822](day02.assets/image-20210110154255822.png)

![image-20210110154307298](day02.assets/image-20210110154307298.png)

以上是老做法，下面给出行子查询的做法：

![image-20210110154424238](day02.assets/image-20210110154424238.png)

=========================================================================

![image-20210110155329074](day02.assets/image-20210110155329074.png)

![image-20210110154820596](day02.assets/image-20210110154820596.png)

![image-20210110155032476](day02.assets/image-20210110155032476.png)

=========================================================================

![image-20210110160141796](day02.assets/image-20210110160141796.png)

![image-20210110155649756](day02.assets/image-20210110155649756.png)

 ![image-20210110160046531](day02.assets/image-20210110160046531.png)

=========================================================================

![image-20210110160351052](day02.assets/image-20210110160351052.png)

![image-20210110160823047](day02.assets/image-20210110160823047.png)

![image-20210110160808092](day02.assets/image-20210110160808092.png)

![image-20210110161846059](day02.assets/image-20210110161846059.png)

![image-20210110161932819](day02.assets/image-20210110161932819.png)

=========================================================================

##### 案例讲解-子查询

![image-20210110162126035](day02.assets/image-20210110162126035.png)

![image-20210110162135125](day02.assets/image-20210110162135125.png)

![image-20210110162223975](day02.assets/image-20210110162223975.png)

![image-20210110162732853](day02.assets/image-20210110162732853.png)

![image-20210110162950186](day02.assets/image-20210110162950186.png)

![image-20210110163116219](day02.assets/image-20210110163116219.png)

![image-20210110163128931](day02.assets/image-20210110163128931.png)

![image-20210110163141092](day02.assets/image-20210110163141092.png)

![image-20210110163404804](day02.assets/image-20210110163404804.png)

![image-20210110163540452](day02.assets/image-20210110163540452.png).

=========================================================================

#### 进阶八：分页查询

##### 应用场景

![image-20210110163936906](day02.assets/image-20210110163936906.png)

##### 语法

![image-20210110164334309](day02.assets/image-20210110164334309.png)

##### 案例

![image-20210110164342421](day02.assets/image-20210110164342421.png)

![image-20210110164447822](day02.assets/image-20210110164447822.png)

![image-20210110164558230](day02.assets/image-20210110164558230.png)

##### 总结/特点

![image-20210110165055839](day02.assets/image-20210110165055839.png)

=========================================================================

##### 测试题3讲解P96

![image-20210110192126930](day02.assets/image-20210110192126930.png)

![image-20210110192210736](day02.assets/image-20210110192210736.png)

![image-20210110192303362](day02.assets/image-20210110192303362.png)

![image-20210110192422661](day02.assets/image-20210110192422661.png)

![image-20210110192927521](day02.assets/image-20210110192927521.png)

##### 子查询经典案例讲解P98

![image-20210110193021731](day02.assets/image-20210110193021731.png)

![image-20210110193156020](day02.assets/image-20210110193156020.png)

第2题解法一：

![image-20210110193420344](day02.assets/image-20210110193420344.png)

![image-20210110193450762](day02.assets/image-20210110193450762.png)

![image-20210110193526816](day02.assets/image-20210110193526816.png)

![image-20210110193630058](day02.assets/image-20210110193630058.png)

第2题解法二：

![image-20210110193801969](day02.assets/image-20210110193801969.png)

![image-20210110193833682](day02.assets/image-20210110193833682.png)

![image-20210110193954504](day02.assets/image-20210110193954504.png)

![image-20210110194113610](day02.assets/image-20210110194113610.png)

![image-20210110194408920](day02.assets/image-20210110194408920.png)

![image-20210110194451784](day02.assets/image-20210110194451784.png)

![image-20210110194713633](day02.assets/image-20210110194713633.png)

![image-20210110194728689](day02.assets/image-20210110194728689.png)

![image-20210110194852106](day02.assets/image-20210110194852106.png)

![image-20210110195100378](day02.assets/image-20210110195100378.png)

![image-20210110195141545](day02.assets/image-20210110195141545.png)

![image-20210110195337810](day02.assets/image-20210110195337810.png)

![image-20210110195548041](day02.assets/image-20210110195548041.png)

![image-20210110195719737](day02.assets/image-20210110195719737.png)

##### 作业讲解P99

![image-20210110195816830](day02.assets/image-20210110195816830.png)

![image-20210110195908366](day02.assets/image-20210110195908366.png)

![image-20210110200100059](day02.assets/image-20210110200100059.png)

![image-20210110200212034](day02.assets/image-20210110200212034.png)

![image-20210110200307545](day02.assets/image-20210110200307545.png)

![image-20210110200542660](day02.assets/image-20210110200542660.png)

![image-20210110200710250](day02.assets/image-20210110200710250.png)

![image-20210110200742217](day02.assets/image-20210110200742217.png)

![image-20210110200830012](day02.assets/image-20210110200830012.png)

![image-20210110201008297](day02.assets/image-20210110201008297.png)

![image-20210110201042571](day02.assets/image-20210110201042571.png)

![image-20210110201115346](day02.assets/image-20210110201115346.png)

![image-20210110201231778](day02.assets/image-20210110201231778.png)

![image-20210110201301285](day02.assets/image-20210110201301285.png)

![image-20210110201401160](day02.assets/image-20210110201401160.png)

=========================================================================

#### 进阶九：联合查询

##### 引入案例

![image-20210110165514970](day02.assets/image-20210110165514970.png)

方法一：

![image-20210110165613701](day02.assets/image-20210110165613701.png)

方法二：

![image-20210110165640581](day02.assets/image-20210110165640581.png)

##### 语法

![image-20210110165729244](day02.assets/image-20210110165729244.png)

或

~~~mysql
查询语句1
union 【all】
查询语句2
union 【all】
...
~~~

##### 应用场景

![image-20210110170023653](day02.assets/image-20210110170023653.png)

用于当要查询的结果来自多个表，并且多个表之间没有连接关系，但查询的信息一致时。

##### 特点

1.要求多条查询语句的查询列数是一致的；

2.要求多条查询语句的查询的每一列的类型和顺序最好一致；

3.使用union关键字默认去重，如果使用union all可以包含重复项。

##### 意义

1、将一条比较复杂的查询语句拆分成多条语句
2、适用于查询多个表的时候，查询的列基本是一致



=========================================================================

#### 查询总结

语法：

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
连接类型 join 表2         ②
on 连接条件               ③
where 筛选               ④
group by 分组列表         ⑤
having 筛选              ⑥
order by排序列表          ⑧
limit 起始条目索引，条目数;  ⑨
~~~

##### 基础查询

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
~~~

##### 条件查询

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
where 筛选               ④
~~~

##### 连接查询

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
连接类型 join 表2         ②
on 连接条件               ③
~~~

##### 连接+筛选

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
连接类型 join 表2         ②
on 连接条件               ③
where 筛选               ④
~~~

##### 连接+筛选+分组

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
连接类型 join 表2         ②
on 连接条件               ③
where 筛选               ④
group by 分组列表         ⑤
having 筛选              ⑥
~~~

##### 连接+筛选+分组+排序

~~~mysql
select 查询列表		     ⑦
from 表1 别名		      ①
连接类型 join 表2         ②
on 连接条件               ③
where 筛选               ④
group by 分组列表         ⑤
having 筛选              ⑥
order by排序列表          ⑧
~~~

=========================================================================